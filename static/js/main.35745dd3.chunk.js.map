{"version":3,"sources":["components/GameContent.js","components/Score.js","components/Game.js","App.js","index.js"],"names":["GameContent","props","buttonSelected","selectedAnswer","ev","setState","isAnswered","answerHandler","createMarkup","__html","state","question","answers","player","answerPrefix","buttonClass","time","prevProps","this","timer","nextProps","answerAll","className","dangerouslySetInnerHTML","map","value","index","key","onClick","React","Component","Score","reversed","Game","choosenAnswerIdx","corrAnswerIdx","setTimeout","correctAnswer","wrongAnswer","allAnswers","document","querySelectorAll","i","length","disabled","classList","remove","gamePause","add","scoreboard","score","choosen","correct","gameFinished","scoreIdx","scoreList","style","background","alert","playerName","currentWinnings","innerText","shuffle","arr","j","Math","floor","random","timeLeft","console","log","clearInterval","intervalId","gameStart","fetch","then","res","json","result","corrAnswer","results","correct_answer","incorrAnswer","incorrect_answers","answersAll","idxCorrAns","indexOf","error","gameStarted","setInterval","bind","handleChange","event","target","type","placeholder","onChange","id","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.35745dd3.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nexport default class GameContent extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n        isAnswered:false,\r\n        selectedAnswer:'',\r\n        answers:['A','B','C','D'],\r\n        question:`Witaj ${this.props.player}rozpocznij grę by wylosować pytanie`,\r\n        answerPrefix:['A','B','C','D'],\r\n        buttonClass: \"\",\r\n        time:\"30\"\r\n    }\r\n  }\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.answers !== this.props.answers) {\r\n      this.setState({\r\n          answers:this.props.answers,\r\n          question:this.props.question,\r\n          time:this.props.timer\r\n      });\r\n    }\r\n  }\r\n  componentWillReceiveProps(nextProps){\r\n      this.setState({\r\n          time:nextProps.timer\r\n      })\r\n  }\r\n  buttonSelected = selectedAnswer => ev => {\r\n    this.setState({ \r\n        selectedAnswer:selectedAnswer,\r\n        isAnswered:true\r\n    });\r\n    this.props.answerHandler(selectedAnswer);\r\n    this.props.selectedAnswer();\r\n}\r\ncreateMarkup = () => {\r\n    return {__html: this.state.question};\r\n    }\r\n\r\n  render() {\r\n      const answerAll = this.state.answers;\r\n      const answerPrefix = this.state.answerPrefix;\r\n            return(\r\n            <div className=\"game\">\r\n                <div className=\"question--wrapper bg__dark p-05 font__light-thick\">\r\n                    <p className=\"question--header\">\r\n                        Pytanie\r\n                    </p>\r\n                    <p dangerouslySetInnerHTML={this.createMarkup()} className=\"question--content\"/>\r\n                </div>\r\n                <div className=\"timer--wrapper bg__dark p-05\">\r\n                    <span>{this.state.time}</span>\r\n                </div>\r\n                <div className=\"answer--wrapper bg__dark p-05\">\r\n                {answerAll.map((value, index) => {\r\n                    return <button \r\n                    key={index} \r\n                    onClick={this.buttonSelected(index) } \r\n                    className={`answer--button ${this.state.isAnswered ? '' : 'answer--hover'} ${ index === this.state.selectedAnswer ? 'checked' : ''}`}\r\n                    >\r\n                    <span className=\"answer__prefix\">{answerPrefix[index]}</span>{value}</button>\r\n                })}\r\n                </div>\r\n                \r\n                <div className=\"lifebuoy--wrapper bg__dark p-05\">\r\n                    <button className=\"lifebuoy--item font__light-thick\">Extra time</button>\r\n                    <button className=\"lifebuoy--item font__light-thick\">50/50</button>\r\n                    <button className=\"lifebuoy--item font__light-thick\">Audience chart</button>\r\n                </div>\r\n            </div>\r\n            );\r\n        };\r\n    }","\r\nimport React from 'react';\r\n\r\nexport default class Score extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      answers: ['A', 'B', 'C', 'D']\r\n    }\r\n  }\r\n\r\n  render() {\r\n            return(\r\n            <div className=\"score bg__dark p-1 font__light-thick\" >\r\n                <h1>Postępy w grze</h1>\r\n                <ol reversed>\r\n                    <li className=\"milestone\">1000000</li>\r\n                    <li>500000</li>\r\n                    <li>250000</li>\r\n                    <li>125000</li>\r\n                    <li>75000</li>\r\n                    <li className=\"milestone\">40000</li>\r\n                    <li>20000</li>\r\n                    <li>10000</li>\r\n                    <li>5000</li>\r\n                    <li>2000</li>\r\n                    <li className=\"milestone\">1000</li>\r\n                    <li>500</li>\r\n                </ol>\r\n            </div>\r\n            );\r\n        };\r\n    }","\r\nimport React from 'react';\r\nimport GameContent from './GameContent.js';\r\nimport Score from './Score.js';\r\n\r\nexport default class Game extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      playerName:'',\r\n      question:'',\r\n      answers:[],\r\n      gameStarted:false,\r\n      gameFinished:false,\r\n      gamePause:true,\r\n      corrAnswer:[],\r\n      corrAnswerIdx:'',\r\n      choosenAnswerIdx:'',\r\n      score:11,\r\n      currentWinnings:'0',\r\n      timeLeft:30\r\n    }\r\n    this.handleChange = this.handleChange.bind(this);\r\n  }\r\n  handleChange(event) {\r\n    this.setState({playerName: event.target.value});\r\n  }\r\n  answerHandler = index =>{\r\n    this.setState({\r\n      choosenAnswerIdx:index\r\n    });\r\n    if(index === this.state.corrAnswerIdx){\r\n      setTimeout(() => {this.correctAnswer(this.state.corrAnswerIdx);}, 3000);\r\n      \r\n    }\r\n    else{\r\n      setTimeout(() => {this.wrongAnswer(this.state.choosenAnswerIdx,this.state.corrAnswerIdx);}, 3000);\r\n    }\r\n  }\r\nselectedAnswer = index =>{\r\n  let allAnswers = document.querySelectorAll(\".answer--button\");\r\n  for(let i = 0; i<allAnswers.length;i++){\r\n    allAnswers[i].disabled = true;\r\n    allAnswers[i].classList.remove('answer--hover');\r\n    this.setState({\r\n      gamePause:true\r\n    })\r\n  }\r\n\r\n}\r\ncorrectAnswer = index =>{\r\n  let allAnswers = document.querySelectorAll(\".answer--button\");\r\n  allAnswers[index].classList.add('correct');\r\n  this.scoreboard(this.state.score);\r\n  this.setState({\r\n    score: this.state.score-1\r\n  })\r\n  \r\n}\r\nwrongAnswer = (choosen, correct) => {\r\n  let allAnswers = document.querySelectorAll(\".answer--button\");\r\n  allAnswers[choosen].classList.remove('checked');\r\n  allAnswers[choosen].classList.add('wrong');\r\n  allAnswers[correct].classList.add('correct');\r\n  this.setState({\r\n    score: 11,\r\n    gameFinished:true\r\n  });\r\n  this.scoreboard();\r\n}\r\nscoreboard = scoreIdx => {\r\n  let scoreList = document.querySelectorAll(\"ol li\");\r\n  if(this.state.gameFinished === true){\r\n    for (let i = 11;i>=0; i--){\r\n      scoreList[i].style.background = \"none\";\r\n    }\r\n    alert(`Thanks for playing ${this.state.playerName}! You won ${this.state.currentWinnings}!`);\r\n  }\r\n  else{\r\n    for (let i = 11;i>=this.state.score; i--){\r\n      scoreList[i].style.background = \"green\";\r\n      this.setState({\r\n        currentWinnings: scoreList[i].innerText\r\n      });\r\n    }\r\n  }\r\n\r\n}\r\nshuffle = arr => {\r\n  for (let i = arr.length; i; i--) {\r\n      let j = Math.floor(Math.random() * i);\r\n      [arr[i - 1], arr[j]] = [arr[j], arr[i - 1]];\r\n  }\r\n    return arr;\r\n}\r\ntimer = () => {\r\n  if(!this.state.gamePause) {\r\n    this.setState({\r\n        timeLeft: this.state.timeLeft - 1\r\n    });\r\n    console.log(this.state.timeLeft);\r\n  }\r\n  if (this.state.timeLeft === 0){\r\n      this.setState({\r\n        gameFinished:true,\r\n        gamePause:true\r\n      });\r\n      alert(`Thanks for playing ${this.state.playerName}! You won ${this.state.currentWinnings}!`);\r\n      clearInterval(this.intervalId);\r\n  }\r\n}\r\n  gameStart = () => {\r\n    fetch(\"https://opentdb.com/api.php?amount=3&difficulty=easy&type=multiple\")\r\n    .then(res => res.json())\r\n    .then(\r\n      (result) => {\r\n        let allAnswers = document.querySelectorAll(\".answer--button\");\r\n        let corrAnswer = [result.results[0].correct_answer];\r\n        let incorrAnswer = result.results[0].incorrect_answers;\r\n        let answersAll = this.shuffle([...corrAnswer, ...incorrAnswer]);\r\n        const idxCorrAns = answersAll.indexOf(corrAnswer[0]);\r\n\r\n        for(let i = 0; i<allAnswers.length;i++){\r\n          allAnswers[i].disabled = false;\r\n          allAnswers[i].classList.add('answer--hover');\r\n          allAnswers[i].classList.remove('wrong');\r\n          allAnswers[i].classList.remove('correct');\r\n          allAnswers[i].classList.remove('checked');\r\n        }\r\n        this.setState({\r\n          answers: answersAll,\r\n          question:result.results[0].question,\r\n          corrAnswer:corrAnswer,\r\n          corrAnswerIdx:idxCorrAns,\r\n          gameFinished:false,\r\n          gamePause:false,\r\n          timeLeft:'3'\r\n        });\r\n      },\r\n      (error) => {\r\n        this.setState({\r\n          error\r\n        });\r\n      }\r\n    )\r\n    this.setState({\r\n      gameStarted:true\r\n    });\r\n    clearInterval(this.intervalId);\r\n    this.intervalId = setInterval(this.timer.bind(), 1000);\r\n\r\n  }\r\n\r\n  render() {\r\n            return <div className=\"wrapper\">\r\n        <div className=\"container\">\r\n        <div className=\"panel bg__dark\">\r\n                <p className=\"nameTitle\">Twoja nazwa gracza</p>\r\n                <p className=\"nameTitle\">{this.state.playerName}</p>\r\n                <input className=\"panel--item\" type=\"text\" placeholder=\"Enter name...\" value={this.state.playerName} onChange={this.handleChange}></input>\r\n                <button onClick={this.gameStart} id=\"startGame\" disabled={!this.state.playerName} className=\"panel--button button panel--item\">Rozpocznij grę</button>\r\n                <button onClick={this.gameStart} className=\"panel--button button panel--item\">Następne pytanie</button>\r\n            </div>\r\n            <GameContent timer={this.state.timeLeft} answerHandler={this.answerHandler} selectedAnswer={this.selectedAnswer} answers={this.state.answers} question={this.state.question} player={this.state.playerName}/>\r\n            <Score/>\r\n        </div>\r\n        <div>\r\n      <span>{this.state.timeLeft}</span>\r\n    </div>\r\n    </div>\r\n\r\n        };\r\n    }","import React from 'react';\nimport './styles.scss';\nimport Game from './components/Game.js';\nfunction App() {\n  return (\n    <Game/>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './styles.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n"],"sourceRoot":""}